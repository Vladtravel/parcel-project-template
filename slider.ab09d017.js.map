{"version":3,"sources":["slider.js"],"names":["Sim","sldrId","id","document","getElementById","sldrRoot","querySelector","sldrList","sldrElements","querySelectorAll","sldrElemFirst","leftArrow","rightArrow","indicatorDots","options","defaults","initialize","loop","auto","interval","arrows","dots","prototype","elemPrev","num","prevElement","currentElement","elemCount","style","display","opacity","dotOn","dotOff","elemNext","indicatorDotsAll","cssText","that","length","bgTime","getTime","Date","setAutoScroll","autoScroll","setInterval","fnTime","addEventListener","clearInterval","sum","diffNum","i","innerHTML","n","Math","abs"],"mappings":"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","file":"slider.ab09d017.js","sourceRoot":"..\\src","sourcesContent":["function Sim(sldrId) {\r\n  let id = document.getElementById(sldrId);\r\n  if (id) {\r\n    this.sldrRoot = id;\r\n  } else {\r\n    this.sldrRoot = document.querySelector('.sim-slider');\r\n  }\r\n\r\n  // Carousel objects\r\n  this.sldrList = this.sldrRoot.querySelector('.sim-slider-list');\r\n  this.sldrElements = this.sldrList.querySelectorAll('.sim-slider-element');\r\n  this.sldrElemFirst = this.sldrList.querySelector('.sim-slider-element');\r\n  this.leftArrow = this.sldrRoot.querySelector('div.sim-slider-arrow-left');\r\n  this.rightArrow = this.sldrRoot.querySelector('div.sim-slider-arrow-right');\r\n  this.indicatorDots = this.sldrRoot.querySelector('div.sim-slider-dots');\r\n\r\n  // Initialization\r\n  this.options = Sim.defaults;\r\n  Sim.initialize(this);\r\n}\r\n\r\nSim.defaults = {\r\n  // Default options for the carousel\r\n  loop: true, // Бесконечное зацикливание слайдера\r\n  auto: true, // Автоматическое пролистывание\r\n  interval: 2500, // Интервал между пролистыванием элементов (мс)\r\n  arrows: true, // Пролистывание стрелками\r\n  dots: true, // Индикаторные точки\r\n};\r\n\r\nSim.prototype.elemPrev = function (num) {\r\n  num = num || 1;\r\n\r\n  let prevElement = this.currentElement;\r\n  this.currentElement -= num;\r\n  if (this.currentElement < 0) this.currentElement = this.elemCount - 1;\r\n\r\n  if (!this.options.loop) {\r\n    if (this.currentElement == 0) {\r\n      this.leftArrow.style.display = 'none';\r\n    }\r\n    this.rightArrow.style.display = 'block';\r\n  }\r\n\r\n  this.sldrElements[this.currentElement].style.opacity = '1';\r\n  this.sldrElements[prevElement].style.opacity = '0';\r\n\r\n  if (this.options.dots) {\r\n    this.dotOn(prevElement);\r\n    this.dotOff(this.currentElement);\r\n  }\r\n};\r\n\r\nSim.prototype.elemNext = function (num) {\r\n  num = num || 1;\r\n\r\n  let prevElement = this.currentElement;\r\n  this.currentElement += num;\r\n  if (this.currentElement >= this.elemCount) this.currentElement = 0;\r\n\r\n  if (!this.options.loop) {\r\n    if (this.currentElement == this.elemCount - 1) {\r\n      this.rightArrow.style.display = 'none';\r\n    }\r\n    this.leftArrow.style.display = 'block';\r\n  }\r\n\r\n  this.sldrElements[this.currentElement].style.opacity = '1';\r\n  this.sldrElements[prevElement].style.opacity = '0';\r\n\r\n  if (this.options.dots) {\r\n    this.dotOn(prevElement);\r\n    this.dotOff(this.currentElement);\r\n  }\r\n};\r\n\r\nSim.prototype.dotOn = function (num) {\r\n  this.indicatorDotsAll[num].style.cssText =\r\n    'background-color:#BBB; cursor:pointer;';\r\n};\r\n\r\nSim.prototype.dotOff = function (num) {\r\n  this.indicatorDotsAll[num].style.cssText =\r\n    'background-color:#d31342; cursor:default;';\r\n};\r\n\r\nSim.initialize = function (that) {\r\n  // Constants\r\n  that.elemCount = that.sldrElements.length; // Количество элементов\r\n\r\n  // Variables\r\n  that.currentElement = 0;\r\n  let bgTime = getTime();\r\n\r\n  // Functions\r\n  function getTime() {\r\n    return new Date().getTime();\r\n  }\r\n  function setAutoScroll() {\r\n    that.autoScroll = setInterval(function () {\r\n      let fnTime = getTime();\r\n      if (fnTime - bgTime + 10 > that.options.interval) {\r\n        bgTime = fnTime;\r\n        that.elemNext();\r\n      }\r\n    }, that.options.interval);\r\n  }\r\n\r\n  // Start initialization\r\n  if (that.elemCount <= 1) {\r\n    // Отключить навигацию\r\n    that.options.auto = false;\r\n    that.options.arrows = false;\r\n    that.options.dots = false;\r\n    that.leftArrow.style.display = 'none';\r\n    that.rightArrow.style.display = 'none';\r\n  }\r\n  if (that.elemCount >= 1) {\r\n    // показать первый элемент\r\n    that.sldrElemFirst.style.opacity = '1';\r\n  }\r\n\r\n  if (!that.options.loop) {\r\n    that.leftArrow.style.display = 'none'; // отключить левую стрелку\r\n    that.options.auto = false; // отключить автопркрутку\r\n  } else if (that.options.auto) {\r\n    // инициализация автопрокруки\r\n    setAutoScroll();\r\n    // Остановка прокрутки при наведении мыши на элемент\r\n    that.sldrList.addEventListener(\r\n      'mouseenter',\r\n      function () {\r\n        clearInterval(that.autoScroll);\r\n      },\r\n      false,\r\n    );\r\n    that.sldrList.addEventListener('mouseleave', setAutoScroll, false);\r\n  }\r\n\r\n  if (that.options.arrows) {\r\n    // инициализация стрелок\r\n    that.leftArrow.addEventListener(\r\n      'click',\r\n      function () {\r\n        let fnTime = getTime();\r\n        if (fnTime - bgTime > 1000) {\r\n          bgTime = fnTime;\r\n          that.elemPrev();\r\n        }\r\n      },\r\n      false,\r\n    );\r\n    that.rightArrow.addEventListener(\r\n      'click',\r\n      function () {\r\n        let fnTime = getTime();\r\n        if (fnTime - bgTime > 1000) {\r\n          bgTime = fnTime;\r\n          that.elemNext();\r\n        }\r\n      },\r\n      false,\r\n    );\r\n  } else {\r\n    that.leftArrow.style.display = 'none';\r\n    that.rightArrow.style.display = 'none';\r\n  }\r\n\r\n  if (that.options.dots) {\r\n    // инициализация индикаторных точек\r\n    let sum = '',\r\n      diffNum;\r\n    for (let i = 0; i < that.elemCount; i++) {\r\n      sum += '<span class=\"sim-dot\"></span>';\r\n    }\r\n    that.indicatorDots.innerHTML = sum;\r\n    that.indicatorDotsAll = that.sldrRoot.querySelectorAll('span.sim-dot');\r\n    // Назначаем точкам обработчик события 'click'\r\n    for (let n = 0; n < that.elemCount; n++) {\r\n      that.indicatorDotsAll[n].addEventListener(\r\n        'click',\r\n        function () {\r\n          diffNum = Math.abs(n - that.currentElement);\r\n          if (n < that.currentElement) {\r\n            bgTime = getTime();\r\n            that.elemPrev(diffNum);\r\n          } else if (n > that.currentElement) {\r\n            bgTime = getTime();\r\n            that.elemNext(diffNum);\r\n          }\r\n          // Если n == that.currentElement ничего не делаем\r\n        },\r\n        false,\r\n      );\r\n    }\r\n    that.dotOff(0); // точка[0] выключена, остальные включены\r\n    for (let i = 1; i < that.elemCount; i++) {\r\n      that.dotOn(i);\r\n    }\r\n  }\r\n};\r\n\r\nnew Sim();\r\n"]}